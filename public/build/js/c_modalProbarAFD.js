function handleProbarAFD(e){const t=e.querySelector(".modal_content_dinamic"),n=e.querySelector(".modal_button.accept"),a=e.querySelector(".modal_button.cancel");let o=null;function r(){t.innerHTML="";const e=document.createElement("button");e.textContent=" Cargar Archivo de AFD ",e.classList.add("modal_button","cargar-afd"),t.appendChild(e),e.addEventListener("click",(()=>{!function(){const e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=e=>{const n=e.target.files[0];if(!n)return;const a=new FileReader;a.onload=function(e){const n=e.target.result;try{const e=function(e){const t=e.split("\n").filter((e=>""!==e.trim())),n=[];for(let e=0;e<t.length;e++){const a=t[e].split(",");if(258!==a.length)throw new Error(`La línea ${e+1} no tiene 258 columnas.`);const o=a.map((e=>parseInt(e.trim())));if(o.some((e=>isNaN(e))))throw new Error(`Valores inválidos en la línea ${e+1}.`);n.push(o)}return n}(n);o=new AnalizadorLexico("",e),function(){t.innerHTML="";document.createElement("div").classList.add("content_options");const e=document.createElement("button");e.textContent=" Cambiar AFD ",e.classList.add("modal_button","cambiar-afd");const n=document.createElement("input");n.type="text",n.placeholder=" Ingrese la cadena a analizar ",n.classList.add("input_text","ing-cadena");const a=document.createElement("button");a.textContent=" Probar AFD ",a.classList.add("modal_button","probar-afd");const c=document.createElement("div");c.classList.add("resultados");const l=document.createElement("table");l.classList.add("tabla_resultados");const d=document.createElement("thead"),i=document.createElement("tr"),s=document.createElement("th");s.textContent="Lexema";const m=document.createElement("th");m.textContent="Token",i.appendChild(s),i.appendChild(m),d.appendChild(i),l.appendChild(d);const p=document.createElement("tbody");l.appendChild(p),c.appendChild(l),t.appendChild(e),t.appendChild(document.createElement("br")),t.appendChild(n),t.appendChild(a),t.appendChild(c),e.addEventListener("click",(()=>{o=null,r()})),a.addEventListener("click",(()=>{const e=n.value.trim();if(""===e)return void mostrarNotificacion("Ingrese una cadena para analizar.","error");let t;o.setSigma(e),p.innerHTML="";try{for(;;){t=o.yylex();const e=o.getLexema(),n=document.createElement("tr"),a=document.createElement("td");a.textContent=e;const r=document.createElement("td");if(r.textContent=t,n.appendChild(a),n.appendChild(r),p.appendChild(n),t==SimbolosEspeciales.FIN)break}row.appendChild(lexemaCell),row.appendChild(tokenCell),p.appendChild(row),mostrarNotificacion("Análisis completado.","success")}catch(e){mostrarNotificacion("Error durante el análisis: "+e.message,"error")}}))}(),mostrarNotificacion("AFD cargado exitosamente.","success")}catch(e){mostrarNotificacion("Error al cargar el AFD: "+e.message,"error")}},a.onerror=function(e){mostrarNotificacion("Error al leer el archivo.","error")},a.readAsText(n)},e.click()}()}))}r(),n.addEventListener("click",(()=>{closeModal(e)})),a.addEventListener("click",(()=>{closeModal(e)}))}