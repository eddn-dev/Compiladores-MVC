function handleCrearAFNBasico(e){let a=null;handleAFNModal(e,{fields:[{name:"automatonId",selector:"#automaton-id",alertSelector:"#automaton-id-alert",validate:e=>e?/^[0-9]+$/.test(e)?AFNS.some((a=>a.ID_AFN===e))?"El ID ya existe. Elige otro.":null:"El ID solo puede contener números.":"El ID es obligatorio."},{name:"startSymbol",selector:"#start-symbol",alertSelector:"#start-symbol-alert",validate:e=>e?esCaracterValido(e)?null:"El símbolo de inicio debe ser un carácter válido.":"El símbolo de inicio es obligatorio."},{name:"endSymbol",selector:"#end-symbol",alertSelector:"#end-symbol-alert",validate:(e,a)=>{const r=a.startSymbol.value;if(e){if(!esCaracterValido(e))return"El símbolo de final debe ser un carácter válido o estar vacío.";if(r&&r>e)return"El símbolo final no puede ser menor que el símbolo inicial (valor ASCII)."}return null}}],onSubmit:(r,o)=>{const l=r.automatonId.value.trim(),t=r.startSymbol.value,s=r.endSymbol.value||null;a=AFN.Crear_Basico_AFN(t,s),a.ID_AFN=l;switch(o.querySelector('input[name="cerradura"]:checked').value){case"kleene":a.Cerradura_Kleene();break;case"epsilon":a.Cerradura_Positiva()}AFNS.push(a),actualizarSelectsDeAFN(),mostrarNotificacion("AFN básico creado exitosamente.","success"),closeModal(e)},successMessage:"AFN básico creado exitosamente.",errorMessage:"Por favor, corrige los errores antes de continuar."});const r=".automaton_preview";function o(){const a=obtenerValoresDeCampos(e);if(a.automatonId.value&&a.startSymbol.value&&a.startSymbol.isValid&&a.endSymbol.isValid)try{Estado.Cant_Edos=0,AFN.Cant_AFN=0;let o=AFN.Crear_Basico_AFN(a.startSymbol.value,a.endSymbol.value||null);o.ID_AFN=a.automatonId.value.trim();switch(e.querySelector('input[name="cerradura"]:checked').value){case"kleene":o.Cerradura_Kleene();break;case"epsilon":o.Cerradura_Positiva()}updateAFNPreview(r,o)}catch(e){console.error("Error al crear el AFN:",e),updateAFNPreview(r,null)}else updateAFNPreview(r,null)}e.querySelectorAll('input[type="text"], input[name="cerradura"]').forEach((e=>{e.addEventListener("input",o)})),o()}function obtenerValoresDeCampos(e){const a={};return a.automatonId={value:e.querySelector("#automaton-id").value.trim(),isValid:!0},a.startSymbol={value:e.querySelector("#start-symbol").value,isValid:esCaracterValido(e.querySelector("#start-symbol").value)},a.endSymbol={value:e.querySelector("#end-symbol").value,isValid:""===e.querySelector("#end-symbol").value||esCaracterValido(e.querySelector("#end-symbol").value)},a}function esCaracterValido(e){return"string"==typeof e&&1===e.length}