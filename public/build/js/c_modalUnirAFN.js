function handleUnirAFN(e){handleAFNModal(e,{fields:[{name:"afnId",selector:"#automaton-id",alertSelector:"#automaton-id-alert",validate:e=>e?null:"Selecciona un AFN."},{name:"afnId2",selector:"#automaton-id-2",alertSelector:"#automaton-id-2-alert",validate:(e,a)=>{const n=a.afnId.value.trim();return e&&e===n?"Debes seleccionar un AFN diferente.":null}}],validationEvent:"change",populateAFNSelects:!0,onSubmit:(a,n)=>{const r=a.afnId.value,t=a.afnId2.value,i=AFNS.findIndex((e=>e.ID_AFN===r)),l=AFNS[i];if(t&&r!==t){const e=AFNS.findIndex((e=>e.ID_AFN===t)),a=AFNS[e];l.Unir(a),AFNS.splice(e,1)}switch(n.querySelector('input[name="cerradura"]:checked').value){case"kleene":l.Cerradura_Kleene();break;case"epsilon":l.Cerradura_Positiva()}actualizarSelectsDeAFN(),mostrarNotificacion("Operación realizada exitosamente.","success"),closeModal(e)},successMessage:"Operación realizada exitosamente.",errorMessage:"Por favor, corrige los errores antes de continuar."}),bindAFNSelectionChange("#automaton-id","#preview-afn");const a=e.querySelector("#automaton-id"),n=e.querySelector("#automaton-id-2"),r=e.querySelectorAll('input[name="cerradura"]');function t(){const r=a.value,t=n.value;if(r){const a=AFNS.find((e=>e.ID_AFN===r));let n;if(t&&r!==t){const e=AFNS.find((e=>e.ID_AFN===t)),r=a.clone(),i=e.clone();r.Unir(i),n=r}else n=a.clone();switch(e.querySelector('input[name="cerradura"]:checked').value){case"kleene":n.Cerradura_Kleene();break;case"epsilon":n.Cerradura_Positiva()}updateAFNPreview("#preview-result",n)}else updateAFNPreview("#preview-result",null)}a.addEventListener("change",(()=>{updateAFNPreview("#preview-afn",AFNS.find((e=>e.ID_AFN===a.value))),t()})),n.addEventListener("change",t),r.forEach((e=>{e.addEventListener("change",t)})),updateAFNPreview("#preview-afn",AFNS.find((e=>e.ID_AFN===a.value))),t()}