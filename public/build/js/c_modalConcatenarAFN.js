function handleConcatenarAFN(e){handleAFNModal(e,{fields:[{name:"afnId",selector:"#automaton-id",alertSelector:"#automaton-id-alert",validate:e=>e?null:"Selecciona un AFN."},{name:"afnId2",selector:"#automaton-id-2",alertSelector:"#automaton-id-2-alert",validate:(e,a)=>{const n=a.afnId.value.trim();return e&&e===n?"Debes seleccionar un AFN diferente.":null}}],validationEvent:"change",populateAFNSelects:!0,onSubmit:(a,n)=>{const t=a.afnId.value,r=a.afnId2.value,o=AFNS.findIndex((e=>e.ID_AFN===t)),c=AFNS[o];if(r&&t!==r){const e=AFNS.findIndex((e=>e.ID_AFN===r)),a=AFNS[e];c.Concatenar(a),AFNS.splice(e,1)}switch(n.querySelector('input[name="cerradura"]:checked').value){case"kleene":c.Cerradura_Kleene();break;case"epsilon":c.Cerradura_Positiva()}actualizarSelectsDeAFN(),mostrarNotificacion("AFNs concatenados exitosamente.","success"),closeModal(e)},successMessage:"AFNs concatenados exitosamente.",errorMessage:"Por favor, corrige los errores antes de continuar."}),bindAFNSelectionChange("#automaton-id","#preview-afn");const a=e.querySelector("#automaton-id"),n=e.querySelector("#automaton-id-2"),t=e.querySelectorAll('input[name="cerradura"]');function r(){const t=a.value,r=n.value;if(t){const a=AFNS.find((e=>e.ID_AFN===t));let n;if(r&&t!==r){const e=AFNS.find((e=>e.ID_AFN===r)),t=a.clone(),o=e.clone();t.Concatenar(o),n=t}else n=a.clone();switch(e.querySelector('input[name="cerradura"]:checked').value){case"kleene":n.Cerradura_Kleene();break;case"epsilon":n.Cerradura_Positiva()}updateAFNPreview("#preview-result",n)}else updateAFNPreview("#preview-result",null)}a.addEventListener("change",(()=>{updateAFNPreview("#preview-afn",AFNS.find((e=>e.ID_AFN===a.value))),r()})),n.addEventListener("change",r),t.forEach((e=>{e.addEventListener("change",r)})),updateAFNPreview("#preview-afn",AFNS.find((e=>e.ID_AFN===a.value))),r()}