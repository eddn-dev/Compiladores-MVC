function handleModal(e){if("modal4"===e.getAttribute("id"))handleCalculadoraModal(e)}function handleCalculadoraModal(e){const a=e.querySelector("form"),t=a.querySelector(".modal_button.calculate"),o=a.querySelector("#text-operation"),r=a.querySelector("#text-operation-alert");t.addEventListener("click",(async a=>{if(a.preventDefault(),!o.value.trim())return r.textContent="La operaci贸n es obligatoria.",void r.classList.add("error");r.textContent="";try{const a=await cargarAutomataDesdeArchivo("build/utils/ER_AFN.txt");window.expReg?window.expReg.AL.matrizTransicionAFD=a:window.expReg=new ExpresionRegular("",a),window.expReg.setER(o.value),window.expReg.parse()?(mostrarNotificacion("Operaci贸n calculada exitosamente.","success"),closeModal(e)):mostrarNotificacion("Error en la operaci贸n. Verifique la sintaxis.","error")}catch(e){mostrarNotificacion("Error al calcular la operaci贸n: "+e.message,"error")}}))}document.addEventListener("modalLoaded",(function(e){handleModal(e.detail.modal)}));